@SubSection
	@Title{Canviar el tipus de lletra}
@Begin

@PP
Afegir @Code "@Database @FontDef{myfontdefs}" abans de @Code "@Report" o al final del @I{setup file} o fitxer de classe. Crear un fitxer que es digui @Code myfontdefs.ld (és important el @Code .ld per indicar que és una @Code database). Dins aquest fitxer guardar, mantenint encoding ISO-8859-1 els diferents tipus de lletra:

@ID @Code{
"{ @FontDef"
"    @Tag { Overpass-Base }"
"    @Family { Overpass }"
"    @Face { Base }"
"    @Name { Overpass-Reg }"
"    @Metrics { Overpass-Reg.afm }"
"    @Mapping { LtLatin1.LCM }"
"}"
}
Repetir-ho per Base Bold Slope.
@PP
Adoneu-vos que tenim un fitxer anomenat @Code algunacosa.afm. Aquest fitxer ha d'estar codificat amb ISO-8859-1. L'acostuma a donar el proveidor de la lletra. Si per exemple, només tenim el @Code .ttf  (TrueType) o OpenType, podem utilitzar el FontForge per crear el fitxer @Code .afm i el @Code .pfa (que més endavant el necessitarem).
@PP
Obrim el fitxer @Code .ttf amb el FontForge. Anem al menú Encoding -> Reencode -> ISO 8859-1 (Latin 1). Llavors al menú Element -> Font Info -> General (del quadre de diàleg) -> Em Size, i canviem el valor donat per 1000. Llavors, cal anar al menu File -> Generate Fonts i seleccionem PS Type 1 (Ascii) (serà el fitxer @Code .pfa) i a Options, escollim Output AFM.
@PP
Noteu que del fitxer @Code fontdets.ld, el símbol @Code "@Name" coincideix amb el principi del fitxer @Code .afm. Això assegura que Lout funcionarà bé.

@ID @Code{
FontName Overpass-Reg
FullName Overpass-Reg
FamilyName Overpass
}
 
El fitxer @Code .afm diu a Lout les dimensions dels caràcters, però com que Lout no els renderitza (ho fa GhostScript), s'ha de fer que aquesta lletra ho reconegui Ghostscript.

@PP
Llavors s'ha danar a @Code{"/usr/share/ghostscript/9.18/Resource/Init/Fontmap.GS"} i afegir al final @Code{"/Overpass-Reg		(/home/arnau/Dropbox/lout/ediciolout/estil/Overpass-Reg.pfa)	;"}. S'ha de seguir estrictament l'espaiat (copieu i enganxeu dels altres exemples, sense perdre la tabulació). És així 
@ID @Code{"/Overpass-Reg<tab><tab>(/home/arnau/Dropbox/lout/ediciolout/estil/Overpass-Reg.pfa)<tab>;"}
Per tal de veure que ghostscript ho enten, obrir un terminal i posar @Code{gs prfont.ps} i quan s'entra a ghostscript @Code{/Overpass-Reg DoFont}. Si apareix una pantalla amb la font això va bé. 
@PP
Al final només fa falta executar això @Code{lout -F "./estil" -D "./estil" -o 0.ps 0} on @Code{lout -F "directori/del/fitxer" @Code .afm -D "directori/de/la/database"@Code fontdefs.ld -o output.ps input}. Hauria de renderitzar-se un fitxer postscript amb les lletres correctament.
@End @SubSection
